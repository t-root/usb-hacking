
<div align="center">

<img src="img/img1.jpg" width="120">
<img src="img/img2.jpg" width="120">
<img src="img/img3.jpg" width="120">

<img src="img/img4.jpg" width="120">
<img src="img/img5.jpg" width="120">
<img src="img/img6.jpg" width="120">

<img src="img/img7.jpg" width="120">

</div>
# T-ROOT Counter - HÆ°á»›ng Dáº«n Sá»­ Dá»¥ng

## ğŸ“‹ Tá»•ng Quan

ÄÃ¢y lÃ  má»™t thiáº¿t bá»‹ counter tá»± Ä‘á»™ng vá»›i nhiá»u tÃ­nh nÄƒng tÃ­ch há»£p, Ä‘Æ°á»£c thiáº¿t káº¿ Ä‘á»ƒ Ä‘áº¿m sá»‘ vÃ  tá»± Ä‘á»™ng nháº­p vÃ o mÃ¡y tÃ­nh qua USB HID Keyboard. Thiáº¿t bá»‹ cÃ³ mÃ n hÃ¬nh LCD, LED RGB, vÃ  há»— trá»£ SD Card qua USB Mass Storage.

## ğŸ¯ Má»¥c ÄÃ­ch Sá»­ Dá»¥ng

- **Tá»± Ä‘á»™ng Ä‘áº¿m sá»‘**: Äáº¿m tá»« 0 Ä‘áº¿n giÃ¡ trá»‹ tá»‘i Ä‘a vá»›i tá»‘c Ä‘á»™ cÃ³ thá»ƒ Ä‘iá»u chá»‰nh
- **Tá»± Ä‘á»™ng nháº­p sá»‘**: Gá»­i sá»‘ Ä‘áº¿m vÃ o mÃ¡y tÃ­nh nhÆ° bÃ n phÃ­m USB (HID Keyboard)
- **Äá»c vÃ  gá»­i kÃ½ tá»± tá»« SD Card**: Äá»c file text tá»« SD Card vÃ  tá»± Ä‘á»™ng gá»­i tá»«ng dÃ²ng/kÃ½ tá»± qua USB HID
- **Hiá»ƒn thá»‹ thÃ´ng tin**: MÃ n hÃ¬nh LCD hiá»ƒn thá»‹ sá»‘ Ä‘áº¿m, thá»i gian cÃ²n láº¡i, vÃ  tá»‘c Ä‘á»™
- **LÆ°u trá»¯ dá»¯ liá»‡u**: SD Card cÃ³ thá»ƒ truy cáº­p qua USB nhÆ° á»• Ä‘Ä©a ngoÃ i
- **Äiá»u khiá»ƒn LED**: LED RGB vá»›i nhiá»u mÃ u sáº¯c tá»± Ä‘á»™ng chuyá»ƒn Ä‘á»•i

## âœ¨ TÃ­nh NÄƒng

### 1. **Counter Tá»± Äá»™ng**
- Äáº¿m sá»‘ tá»« 0 Ä‘áº¿n giÃ¡ trá»‹ tá»‘i Ä‘a (tÃ¹y chá»n sá»‘ chá»¯ sá»‘: 1-10)
- Tá»± Ä‘á»™ng tÄƒng sá»‘ theo khoáº£ng thá»i gian Ä‘Ã£ cÃ i Ä‘áº·t
- Hiá»ƒn thá»‹ sá»‘ trÃªn mÃ n hÃ¬nh LCD vá»›i font lá»›n, dá»… Ä‘á»c
- Há»— trá»£ táº¡m dá»«ng (pause) vÃ  tiáº¿p tá»¥c

### 2. **USB HID Keyboard**
- Tá»± Ä‘á»™ng gÃµ sá»‘ Ä‘áº¿m vÃ o mÃ¡y tÃ­nh nhÆ° bÃ n phÃ­m
- Gá»­i tá»«ng chá»¯ sá»‘ vá»›i delay Ä‘á»ƒ Ä‘áº£m báº£o Ä‘á»™ chÃ­nh xÃ¡c
- Tá»± Ä‘á»™ng thÃªm phÃ­m ENTER sau má»—i sá»‘
- Format sá»‘ vá»›i leading zeros (vÃ­ dá»¥: 0001, 0002...)

### 3. **MÃ n HÃ¬nh LCD (172x320)**
- Hiá»ƒn thá»‹ logo T-ROOT khi khá»Ÿi Ä‘á»™ng
- Hiá»ƒn thá»‹ sá»‘ Ä‘áº¿m vá»›i font lá»›n (3x5 bitmap, scale 3x)
- Hiá»ƒn thá»‹ thá»i gian cÃ²n láº¡i (HH:MM:SS)
- Hiá»ƒn thá»‹ tá»‘c Ä‘á»™ Ä‘áº¿m (ms)
- Tá»‘i Æ°u hÃ³a render - chá»‰ váº½ láº¡i pháº§n thay Ä‘á»•i

### 4. **Äiá»u Khiá»ƒn LED RGB**
- 9 mÃ u sáº¯c: Äá», Cam, VÃ ng, Xanh lÃ¡, Cyan, Xanh dÆ°Æ¡ng, TÃ­m, Há»“ng, Tráº¯ng
- Tá»± Ä‘á»™ng chuyá»ƒn mÃ u má»—i 300ms khi báº­t
- Äá»™ sÃ¡ng cÃ³ thá»ƒ Ä‘iá»u chá»‰nh (máº·c Ä‘á»‹nh: 80)

### 5. **USB Mass Storage (MSC)**
- Biáº¿n SD Card thÃ nh USB drive
- Há»— trá»£ Ä‘á»c/ghi dá»¯ liá»‡u
- Tá»± Ä‘á»™ng nháº­n diá»‡n khi cáº¯m USB vÃ o mÃ¡y tÃ­nh
- Vendor ID: "T-ROOT", Product ID: "T-ROOT USB"

### 6. **Äá»c vÃ  Gá»­i KÃ½ Tá»± tá»« SD Card** â­
- Äá»c file text tá»« SD Card (Ä‘á»‹nh dáº¡ng .txt)
- Tá»± Ä‘á»™ng gá»­i tá»«ng dÃ²ng hoáº·c tá»«ng kÃ½ tá»± qua USB HID Keyboard
- Há»— trá»£ nhiá»u file, cÃ³ thá»ƒ chá»n file cáº§n Ä‘á»c
- Hiá»ƒn thá»‹ tÃªn file vÃ  tiáº¿n trÃ¬nh Ä‘á»c trÃªn mÃ n hÃ¬nh LCD
- Tá»± Ä‘á»™ng thÃªm ENTER sau má»—i dÃ²ng (tÃ¹y chá»n)
- Delay cÃ³ thá»ƒ Ä‘iá»u chá»‰nh giá»¯a cÃ¡c kÃ½ tá»±/dÃ²ng
- Há»¯u Ã­ch cho viá»‡c tá»± Ä‘á»™ng nháº­p password, text, hoáº·c dá»¯ liá»‡u tá»« file

### 7. **Chá»n Sá»‘ Chá»¯ Sá»‘**
- Chá»n tá»« 1 Ä‘áº¿n 10 chá»¯ sá»‘
- GiÃ¡ trá»‹ tá»‘i Ä‘a tá»± Ä‘á»™ng tÃ­nh toÃ¡n (vÃ­ dá»¥: 1 chá»¯ sá»‘ = 0-9, 2 chá»¯ sá»‘ = 0-99...)

### 8. **Chá»n Tá»‘c Äá»™ Äáº¿m**
- 19 má»©c tá»‘c Ä‘á»™ cÃ³ sáºµn: 1000ms, 900ms, 800ms, 700ms, 600ms, 500ms, 400ms, 300ms, 200ms, 100ms, 90ms, 80ms, 70ms, 60ms, 50ms, 40ms, 30ms, 20ms, 10ms
- Hiá»ƒn thá»‹ tá»‘c Ä‘á»™ hiá»‡n táº¡i trÃªn mÃ n hÃ¬nh

## ğŸ® CÃ¡ch Sá»­ Dá»¥ng

### **NÃºt Äiá»u Khiá»ƒn (Boot Button - Pin 0)**

Thiáº¿t bá»‹ sá»­ dá»¥ng má»™t nÃºt duy nháº¥t vá»›i cÃ¡c thao tÃ¡c:

#### **1. Single Click (Nháº¥n má»™t láº§n)**
- **Khi á»Ÿ mÃ n hÃ¬nh logo ban Ä‘áº§u**: Chuyá»ƒn sang mÃ n hÃ¬nh chá»n sá»‘ chá»¯ sá»‘
- **Khi Ä‘ang chá»n sá»‘ chá»¯ sá»‘**: TÄƒng sá»‘ chá»¯ sá»‘ (1â†’2â†’3â†’...â†’10â†’1...)
- **Khi Ä‘ang chá»n tá»‘c Ä‘á»™**: Chuyá»ƒn sang tá»‘c Ä‘á»™ tiáº¿p theo
- **Khi counter Ä‘ang cháº¡y**: Táº¡m dá»«ng/Tiáº¿p tá»¥c (Pause/Resume)

#### **2. Double Click (Nháº¥n hai láº§n nhanh)**
- **Khi Ä‘ang chá»n sá»‘ chá»¯ sá»‘**: VÃ o cháº¿ Ä‘á»™ chá»n tá»‘c Ä‘á»™
- **Khi Ä‘ang chá»n tá»‘c Ä‘á»™**: Báº¯t Ä‘áº§u cháº¡y counter
- **Khi counter Ä‘ang cháº¡y**: Dá»«ng counter vÃ  quay vá» cháº¿ Ä‘á»™ chá»n sá»‘

#### **3. Hold (Giá»¯ nÃºt 5 giÃ¢y)**
- **Báº­t/Táº¯t LED RGB**: Giá»¯ nÃºt 5 giÃ¢y Ä‘á»ƒ báº­t hoáº·c táº¯t LED

### **Quy TrÃ¬nh Sá»­ Dá»¥ng CÆ¡ Báº£n**

1. **Khá»Ÿi Ä‘á»™ng thiáº¿t bá»‹**
   - MÃ n hÃ¬nh hiá»ƒn thá»‹ logo T-ROOT
   - LED RGB táº¯t (máº·c Ä‘á»‹nh)

2. **Chá»n sá»‘ chá»¯ sá»‘**
   - Nháº¥n **Single Click** Ä‘á»ƒ vÃ o mÃ n hÃ¬nh chá»n sá»‘
   - Tiáº¿p tá»¥c nháº¥n **Single Click** Ä‘á»ƒ tÄƒng sá»‘ chá»¯ sá»‘ (1â†’2â†’3â†’...â†’10â†’1)
   - MÃ n hÃ¬nh hiá»ƒn thá»‹ "T-ROOT" vÃ  sá»‘ 0 vá»›i sá»‘ chá»¯ sá»‘ Ä‘Ã£ chá»n

3. **Chá»n tá»‘c Ä‘á»™ Ä‘áº¿m**
   - Nháº¥n **Double Click** Ä‘á»ƒ vÃ o cháº¿ Ä‘á»™ chá»n tá»‘c Ä‘á»™
   - MÃ n hÃ¬nh hiá»ƒn thá»‹ tá»‘c Ä‘á»™ (vÃ­ dá»¥: "1000MS")
   - Nháº¥n **Single Click** Ä‘á»ƒ chuyá»ƒn sang tá»‘c Ä‘á»™ tiáº¿p theo

4. **Báº¯t Ä‘áº§u Ä‘áº¿m**
   - Nháº¥n **Double Click** Ä‘á»ƒ báº¯t Ä‘áº§u counter
   - Counter báº¯t Ä‘áº§u Ä‘áº¿m tá»« 0
   - Má»—i sá»‘ Ä‘Æ°á»£c tá»± Ä‘á»™ng gá»­i vÃ o mÃ¡y tÃ­nh qua USB HID
   - MÃ n hÃ¬nh hiá»ƒn thá»‹ sá»‘ Ä‘áº¿m vÃ  thá»i gian cÃ²n láº¡i

5. **Äiá»u khiá»ƒn khi Ä‘ang cháº¡y**
   - Nháº¥n **Single Click** Ä‘á»ƒ táº¡m dá»«ng/tiáº¿p tá»¥c
   - Nháº¥n **Double Click** Ä‘á»ƒ dá»«ng hoÃ n toÃ n vÃ  quay vá» cháº¿ Ä‘á»™ chá»n sá»‘

6. **Äiá»u khiá»ƒn LED**
   - Giá»¯ nÃºt **5 giÃ¢y** Ä‘á»ƒ báº­t/táº¯t LED RGB
   - Khi báº­t, LED tá»± Ä‘á»™ng chuyá»ƒn mÃ u má»—i 300ms

### **Sá»­ Dá»¥ng TÃ­nh NÄƒng Äá»c File tá»« SD Card vÃ  Gá»­i HID** ğŸ“âŒ¨ï¸

Thiáº¿t bá»‹ cÃ³ thá»ƒ Ä‘á»c file text tá»« SD Card vÃ  tá»± Ä‘á»™ng gá»­i ná»™i dung qua USB HID Keyboard. ÄÃ¢y lÃ  tÃ­nh nÄƒng máº¡nh máº½ Ä‘á»ƒ tá»± Ä‘á»™ng hÃ³a viá»‡c nháº­p dá»¯ liá»‡u.

#### **CÃ¡c BÆ°á»›c Sá»­ Dá»¥ng:**

1. **Chuáº©n bá»‹ SD Card vÃ  File**
   - Láº¯p SD Card vÃ o thiáº¿t bá»‹ (Ä‘áº£m báº£o Ä‘Ã£ format FAT32)
   - Táº¡o file text (.txt) trÃªn mÃ¡y tÃ­nh vá»›i ná»™i dung cáº§n gá»­i
   - Má»—i dÃ²ng trong file sáº½ Ä‘Æ°á»£c gá»­i nhÆ° má»™t láº§n nháº­p
   - VÃ­ dá»¥ ná»™i dung file `data.txt`:
     ```
     password123
     username@example.com
     Hello World
     ```

2. **Copy File vÃ o SD Card**
   - Cáº¯m USB vÃ o mÃ¡y tÃ­nh (thiáº¿t bá»‹ sáº½ hiá»‡n nhÆ° á»• Ä‘Ä©a "T-ROOT USB")
   - Copy file .txt vÃ o thÆ° má»¥c gá»‘c cá»§a SD Card
   - Äáº£m báº£o tÃªn file khÃ´ng cÃ³ kÃ½ tá»± Ä‘áº·c biá»‡t, chá»‰ dÃ¹ng chá»¯ vÃ  sá»‘
   - VÃ­ dá»¥: `data.txt`, `passwords.txt`, `list.txt`

3. **Chá»n Cháº¿ Äá»™ Äá»c File**
   - Khá»Ÿi Ä‘á»™ng thiáº¿t bá»‹ (mÃ n hÃ¬nh hiá»ƒn thá»‹ logo T-ROOT)
   - Nháº¥n **Single Click** Ä‘á»ƒ vÃ o menu chÃ­nh
   - Tiáº¿p tá»¥c nháº¥n Ä‘á»ƒ chuyá»ƒn sang cháº¿ Ä‘á»™ "Read File" (hoáº·c theo hÆ°á»›ng dáº«n trÃªn mÃ n hÃ¬nh)
   - MÃ n hÃ¬nh sáº½ hiá»ƒn thá»‹ danh sÃ¡ch file .txt cÃ³ trong SD Card

4. **Chá»n File Cáº§n Äá»c**
   - Sá»­ dá»¥ng **Single Click** Ä‘á»ƒ di chuyá»ƒn vÃ  chá»n file trong danh sÃ¡ch
   - MÃ n hÃ¬nh hiá»ƒn thá»‹ tÃªn file Ä‘Æ°á»£c chá»n
   - Nháº¥n **Double Click** Ä‘á»ƒ xÃ¡c nháº­n chá»n file

5. **Chá»n Tá»‘c Äá»™ Gá»­i**
   - Sau khi chá»n file, mÃ n hÃ¬nh chuyá»ƒn sang cháº¿ Ä‘á»™ chá»n tá»‘c Ä‘á»™
   - Tá»‘c Ä‘á»™ nÃ y quyáº¿t Ä‘á»‹nh delay giá»¯a cÃ¡c kÃ½ tá»± khi gá»­i
   - Nháº¥n **Single Click** Ä‘á»ƒ chuyá»ƒn tá»‘c Ä‘á»™ (tá»« 10ms Ä‘áº¿n 1000ms)
   - Nháº¥n **Double Click** Ä‘á»ƒ xÃ¡c nháº­n vÃ  báº¯t Ä‘áº§u Ä‘á»c file

6. **Báº¯t Äáº§u Gá»­i Dá»¯ Liá»‡u**
   - Thiáº¿t bá»‹ báº¯t Ä‘áº§u Ä‘á»c file vÃ  gá»­i tá»«ng dÃ²ng qua USB HID
   - MÃ n hÃ¬nh hiá»ƒn thá»‹:
     - TÃªn file Ä‘ang Ä‘á»c
     - DÃ²ng hiá»‡n táº¡i Ä‘ang gá»­i
     - Tiáº¿n trÃ¬nh (sá»‘ dÃ²ng Ä‘Ã£ gá»­i / tá»•ng sá»‘ dÃ²ng)
   - Má»—i dÃ²ng sáº½ Ä‘Æ°á»£c gá»­i nhÆ° bÃ n phÃ­m, tá»± Ä‘á»™ng thÃªm ENTER sau má»—i dÃ²ng
   - Äáº£m báº£o cá»­a sá»• á»©ng dá»¥ng (Notepad, Word, Excel...) Ä‘ang má»Ÿ vÃ  sáºµn sÃ ng nháº­n input

7. **Äiá»u Khiá»ƒn Khi Äang Gá»­i**
   - Nháº¥n **Single Click** Ä‘á»ƒ táº¡m dá»«ng/tiáº¿p tá»¥c gá»­i
   - Nháº¥n **Double Click** Ä‘á»ƒ dá»«ng hoÃ n toÃ n vÃ  quay vá» menu chá»n file
   - Khi hoÃ n thÃ nh, thiáº¿t bá»‹ tá»± Ä‘á»™ng dá»«ng vÃ  hiá»ƒn thá»‹ thÃ´ng bÃ¡o

#### **LÆ°u Ã Quan Trá»ng:**

- âš ï¸ **File pháº£i lÃ  Ä‘á»‹nh dáº¡ng .txt** (text thuáº§n, khÃ´ng pháº£i .doc, .docx, .pdf...)
- âš ï¸ **Encoding UTF-8**: File nÃªn Ä‘Æ°á»£c lÆ°u vá»›i encoding UTF-8 Ä‘á»ƒ hiá»ƒn thá»‹ tiáº¿ng Viá»‡t Ä‘Ãºng
- âš ï¸ **KÃ­ch thÆ°á»›c file**: Khuyáº¿n nghá»‹ file khÃ´ng quÃ¡ lá»›n (< 1MB) Ä‘á»ƒ trÃ¡nh máº¥t thá»i gian
- âš ï¸ **Vá»‹ trÃ­ file**: Äáº·t file á»Ÿ thÆ° má»¥c gá»‘c cá»§a SD Card (khÃ´ng Ä‘áº·t trong thÆ° má»¥c con)
- âš ï¸ **TÃªn file**: Chá»‰ dÃ¹ng chá»¯ cÃ¡i, sá»‘, dáº¥u gáº¡ch dÆ°á»›i (_), dáº¥u gáº¡ch ngang (-). TrÃ¡nh kÃ½ tá»± Ä‘áº·c biá»‡t
- âš ï¸ **An toÃ n**: Äáº£m báº£o cá»­a sá»• Ä‘Ãºng Ä‘ang Ä‘Æ°á»£c focus trÆ°á»›c khi báº¯t Ä‘áº§u gá»­i Ä‘á»ƒ trÃ¡nh gá»­i nháº§m

#### **VÃ­ Dá»¥ Sá»­ Dá»¥ng:**

**VÃ­ dá»¥ 1: Gá»­i danh sÃ¡ch password**
```
File: passwords.txt
Ná»™i dung:
admin123
user456
password789
```
â†’ Thiáº¿t bá»‹ sáº½ gá»­i tá»«ng dÃ²ng, má»—i dÃ²ng lÃ  má»™t password

**VÃ­ dá»¥ 2: Gá»­i danh sÃ¡ch email**
```
File: emails.txt
Ná»™i dung:
user1@example.com
user2@example.com
user3@example.com
```
â†’ Thiáº¿t bá»‹ sáº½ gá»­i tá»«ng email, tá»± Ä‘á»™ng thÃªm ENTER sau má»—i email

**VÃ­ dá»¥ 3: Gá»­i text dÃ i**
```
File: message.txt
Ná»™i dung:
Hello, this is a long message
that will be sent line by line
through USB HID keyboard.
```
â†’ Má»—i dÃ²ng sáº½ Ä‘Æ°á»£c gá»­i riÃªng biá»‡t

## ğŸ”Œ Káº¿t Ná»‘i USB

### **USB HID Keyboard**
- Khi cáº¯m USB vÃ o mÃ¡y tÃ­nh, thiáº¿t bá»‹ tá»± Ä‘á»™ng Ä‘Æ°á»£c nháº­n diá»‡n nhÆ° bÃ n phÃ­m
- KhÃ´ng cáº§n cÃ i driver (HID lÃ  chuáº©n USB phá»• biáº¿n)
- Sá»‘ Ä‘áº¿m sáº½ tá»± Ä‘á»™ng Ä‘Æ°á»£c gÃµ vÃ o á»©ng dá»¥ng Ä‘ang má»Ÿ (Notepad, Excel, Word...)

### **USB Mass Storage (SD Card)**
- Náº¿u cÃ³ SD Card, thiáº¿t bá»‹ sáº½ xuáº¥t hiá»‡n nhÆ° má»™t á»• Ä‘Ä©a USB
- TÃªn á»• Ä‘Ä©a: "T-ROOT USB"
- CÃ³ thá»ƒ Ä‘á»c/ghi file nhÆ° á»• Ä‘Ä©a ngoÃ i bÃ¬nh thÆ°á»ng
- **Quan trá»ng**: File .txt trÃªn SD Card cÃ³ thá»ƒ Ä‘Æ°á»£c Ä‘á»c vÃ  gá»­i qua USB HID

## âš™ï¸ Cáº¥u HÃ¬nh Ká»¹ Thuáº­t

### **Pin Configuration**
- **LCD**: MOSI=45, SCLK=40, CS=42, DC=41, RST=39, BL=48
- **SD Card**: SCLK=14, MOSI=15, MISO=16, CS=21
- **LED RGB**: Pin 38 (NeoPixel)
- **Boot Button**: Pin 0 (INPUT_PULLUP)

### **LCD Specifications**
- KÃ­ch thÆ°á»›c: 172x320 pixels
- Xoay 180 Ä‘á»™ (MADCTL = 0xC0)
- MÃ u: Äen vÃ  Xanh lÃ¡ (RGB565)

### **Counter Settings**
- Sá»‘ chá»¯ sá»‘ tá»‘i Ä‘a: 10
- Khoáº£ng cÃ¡ch giá»¯a cÃ¡c chá»¯ sá»‘: 6 pixels
- Scale chá»¯ sá»‘: 3x (tá»« bitmap 3x5)

### **HID Settings**
- Delay giá»¯a cÃ¡c chá»¯ sá»‘: 10ms
- Delay sau má»—i sá»‘: 10ms
- Tá»± Ä‘á»™ng thÃªm ENTER sau má»—i sá»‘

### **LED Settings**
- Sá»‘ lÆ°á»£ng LED: 1
- Äá»™ sÃ¡ng: 80/255
- Thá»i gian chuyá»ƒn mÃ u: 300ms
- Sá»‘ mÃ u: 9 mÃ u

## ğŸ“Š CÃ¡c Tráº¡ng ThÃ¡i Hoáº¡t Äá»™ng

1. **Initial Screen**: MÃ n hÃ¬nh logo khi khá»Ÿi Ä‘á»™ng
2. **Select Digits**: Chá»n sá»‘ chá»¯ sá»‘ (1-10)
3. **Select Speed**: Chá»n tá»‘c Ä‘á»™ Ä‘áº¿m (19 má»©c)
4. **Running**: Counter Ä‘ang cháº¡y
5. **Paused**: Counter táº¡m dá»«ng
6. **Select File**: Chá»n file tá»« SD Card Ä‘á»ƒ Ä‘á»c
7. **Reading File**: Äang Ä‘á»c vÃ  gá»­i file qua USB HID
8. **File Paused**: Táº¡m dá»«ng gá»­i file

## ğŸ”§ Xá»­ LÃ½ Sá»± Cá»‘

### **SD Card khÃ´ng hoáº¡t Ä‘á»™ng**
- Kiá»ƒm tra SD Card Ä‘Ã£ Ä‘Æ°á»£c láº¯p Ä‘Ãºng chÆ°a
- Kiá»ƒm tra Serial Monitor Ä‘á»ƒ xem thÃ´ng bÃ¡o lá»—i
- Äáº£m báº£o SD Card Ä‘Æ°á»£c format Ä‘Ãºng (FAT32)

### **KhÃ´ng Ä‘á»c Ä‘Æ°á»£c file tá»« SD Card**
- Kiá»ƒm tra file cÃ³ Ä‘Ãºng Ä‘á»‹nh dáº¡ng .txt khÃ´ng
- Äáº£m báº£o file náº±m á»Ÿ thÆ° má»¥c gá»‘c cá»§a SD Card (khÃ´ng trong thÆ° má»¥c con)
- Kiá»ƒm tra tÃªn file khÃ´ng cÃ³ kÃ½ tá»± Ä‘áº·c biá»‡t
- Kiá»ƒm tra Serial Monitor Ä‘á»ƒ xem lá»—i Ä‘á»c file
- Thá»­ vá»›i file nhá» trÆ°á»›c (vÃ i dÃ²ng) Ä‘á»ƒ test

### **File Ä‘Æ°á»£c Ä‘á»c nhÆ°ng khÃ´ng gá»­i qua HID**
- Kiá»ƒm tra USB Ä‘Ã£ cáº¯m vÃ o mÃ¡y tÃ­nh chÆ°a
- Kiá»ƒm tra mÃ¡y tÃ­nh Ä‘Ã£ nháº­n diá»‡n thiáº¿t bá»‹ nhÆ° bÃ n phÃ­m chÆ°a
- Äáº£m báº£o cÃ³ á»©ng dá»¥ng Ä‘ang má»Ÿ vÃ  sáºµn sÃ ng nháº­n input (Notepad, Word...)
- Kiá»ƒm tra Serial Monitor Ä‘á»ƒ xem log gá»­i HID

### **USB HID khÃ´ng gá»­i sá»‘**
- Kiá»ƒm tra USB Ä‘Ã£ cáº¯m vÃ o mÃ¡y tÃ­nh chÆ°a
- Kiá»ƒm tra mÃ¡y tÃ­nh Ä‘Ã£ nháº­n diá»‡n thiáº¿t bá»‹ nhÆ° bÃ n phÃ­m chÆ°a
- Má»Ÿ Serial Monitor Ä‘á»ƒ xem log gá»­i HID

### **LCD khÃ´ng hiá»ƒn thá»‹**
- Kiá»ƒm tra káº¿t ná»‘i pin LCD
- Kiá»ƒm tra backlight (pin 48)
- Kiá»ƒm tra Serial Monitor Ä‘á»ƒ xem cÃ³ lá»—i khá»Ÿi táº¡o khÃ´ng

### **LED khÃ´ng sÃ¡ng**
- Kiá»ƒm tra pin 38 Ä‘Ã£ káº¿t ná»‘i Ä‘Ãºng chÆ°a
- Kiá»ƒm tra LED cÃ³ hoáº¡t Ä‘á»™ng khÃ´ng (thá»­ báº­t báº±ng cÃ¡ch giá»¯ nÃºt 5 giÃ¢y)
- Kiá»ƒm tra Serial Monitor Ä‘á»ƒ xem log LED

## ğŸ“ Ghi ChÃº

- Counter sáº½ tá»± Ä‘á»™ng dá»«ng khi Ä‘áº¡t giÃ¡ trá»‹ tá»‘i Ä‘a
- Thá»i gian cÃ²n láº¡i Ä‘Æ°á»£c tÃ­nh dá»±a trÃªn sá»‘ giÃ¡ trá»‹ cÃ²n láº¡i Ã— tá»‘c Ä‘á»™
- Khi counter Ä‘ang cháº¡y, khÃ´ng thá»ƒ thay Ä‘á»•i sá»‘ chá»¯ sá»‘ hoáº·c tá»‘c Ä‘á»™
- LED RGB chá»‰ hoáº¡t Ä‘á»™ng khi Ä‘Æ°á»£c báº­t báº±ng cÃ¡ch giá»¯ nÃºt 5 giÃ¢y
- USB MSC chá»‰ hoáº¡t Ä‘á»™ng khi cÃ³ SD Card Ä‘Æ°á»£c láº¯p Ä‘Ãºng
- **File Ä‘á»c tá»« SD Card**: Chá»‰ há»— trá»£ file .txt, encoding UTF-8, Ä‘áº·t á»Ÿ thÆ° má»¥c gá»‘c
- **Gá»­i HID tá»« file**: Má»—i dÃ²ng trong file sáº½ Ä‘Æ°á»£c gá»­i riÃªng, tá»± Ä‘á»™ng thÃªm ENTER sau má»—i dÃ²ng

## ğŸ¨ MÃ u Sáº¯c LED

LED RGB tá»± Ä‘á»™ng chuyá»ƒn Ä‘á»•i giá»¯a 9 mÃ u:
1. ğŸ”´ Äá» (255, 0, 0)
2. ğŸŸ  Cam (255, 128, 0)
3. ğŸŸ¡ VÃ ng (255, 255, 0)
4. ğŸŸ¢ Xanh lÃ¡ (0, 255, 0)
5. ğŸ”µ Cyan (0, 255, 255)
6. ğŸ”µ Xanh dÆ°Æ¡ng (0, 0, 255)
7. ğŸŸ£ TÃ­m (128, 0, 255)
8. ğŸ©· Há»“ng (255, 0, 255)
9. âšª Tráº¯ng (255, 255, 255)

## ğŸ“ Há»— Trá»£

Náº¿u gáº·p váº¥n Ä‘á», kiá»ƒm tra Serial Monitor (115200 baud) Ä‘á»ƒ xem log chi tiáº¿t.

---

**T-ROOT Counter v1.0** - Thiáº¿t bá»‹ counter tá»± Ä‘á»™ng vá»›i USB HID vÃ  MSC

---

# T-ROOT Counter - User Guide (English)

## ğŸ“‹ Overview

This is an automatic counter device with multiple integrated features, designed to count numbers and automatically input them into a computer via USB HID Keyboard. The device features an LCD display, RGB LED, and SD Card support via USB Mass Storage.

## ğŸ¯ Purpose

- **Automatic counting**: Count from 0 to maximum value with adjustable speed
- **Automatic number input**: Send counted numbers to computer as USB keyboard (HID Keyboard)
- **Read and send characters from SD Card**: Read text files from SD Card and automatically send each line/character via USB HID
- **Information display**: LCD screen displays count, remaining time, and speed
- **Data storage**: SD Card accessible via USB as external drive
- **LED control**: RGB LED with multiple colors that automatically cycle

## âœ¨ Features

### 1. **Automatic Counter**
- Count numbers from 0 to maximum value (selectable digits: 1-10)
- Automatically increment numbers at configured intervals
- Display numbers on LCD screen with large, readable font
- Support pause and resume

### 2. **USB HID Keyboard**
- Automatically type counted numbers into computer as keyboard
- Send each digit with delay to ensure accuracy
- Automatically add ENTER key after each number
- Format numbers with leading zeros (e.g., 0001, 0002...)

### 3. **LCD Display (172x320)**
- Display T-ROOT logo on startup
- Display count numbers with large font (3x5 bitmap, 3x scale)
- Display remaining time (HH:MM:SS)
- Display counting speed (ms)
- Optimized rendering - only redraws changed parts

### 4. **RGB LED Control**
- 9 colors: Red, Orange, Yellow, Green, Cyan, Blue, Purple, Pink, White
- Automatically change color every 300ms when enabled
- Adjustable brightness (default: 80)

### 5. **USB Mass Storage (MSC)**
- Convert SD Card to USB drive
- Support read/write data
- Automatically recognized when USB is plugged into computer
- Vendor ID: "T-ROOT", Product ID: "T-ROOT USB"

### 6. **Read and Send Characters from SD Card** â­
- Read text files from SD Card (.txt format)
- Automatically send each line or character via USB HID Keyboard
- Support multiple files, can select which file to read
- Display file name and reading progress on LCD screen
- Automatically add ENTER after each line (optional)
- Adjustable delay between characters/lines
- Useful for automatically entering passwords, text, or data from files

### 7. **Digit Selection**
- Select from 1 to 10 digits
- Maximum value automatically calculated (e.g., 1 digit = 0-9, 2 digits = 0-99...)

### 8. **Speed Selection**
- 19 speed presets available: 1000ms, 900ms, 800ms, 700ms, 600ms, 500ms, 400ms, 300ms, 200ms, 100ms, 90ms, 80ms, 70ms, 60ms, 50ms, 40ms, 30ms, 20ms, 10ms
- Display current speed on screen

## ğŸ® How to Use

### **Control Button (Boot Button - Pin 0)**

The device uses a single button with the following operations:

#### **1. Single Click**
- **On initial logo screen**: Switch to digit selection screen
- **When selecting digits**: Increase digit count (1â†’2â†’3â†’...â†’10â†’1...)
- **When selecting speed**: Switch to next speed
- **When counter is running**: Pause/Resume

#### **2. Double Click**
- **When selecting digits**: Enter speed selection mode
- **When selecting speed**: Start counter
- **When counter is running**: Stop counter and return to digit selection mode

#### **3. Hold (Press for 5 seconds)**
- **Toggle RGB LED**: Hold button for 5 seconds to turn LED on/off

### **Basic Usage Workflow**

1. **Start device**
   - Screen displays T-ROOT logo
   - RGB LED off (default)

2. **Select number of digits**
   - Press **Single Click** to enter digit selection screen
   - Continue pressing **Single Click** to increase digit count (1â†’2â†’3â†’...â†’10â†’1)
   - Screen displays "T-ROOT" and number 0 with selected digit count

3. **Select counting speed**
   - Press **Double Click** to enter speed selection mode
   - Screen displays speed (e.g., "1000MS")
   - Press **Single Click** to switch to next speed

4. **Start counting**
   - Press **Double Click** to start counter
   - Counter starts counting from 0
   - Each number is automatically sent to computer via USB HID
   - Screen displays count and remaining time

5. **Control while running**
   - Press **Single Click** to pause/resume
   - Press **Double Click** to stop completely and return to digit selection mode

6. **LED control**
   - Hold button for **5 seconds** to toggle RGB LED
   - When enabled, LED automatically changes color every 300ms

### **Using SD Card File Reading and HID Sending Feature** ğŸ“âŒ¨ï¸

The device can read text files from SD Card and automatically send content via USB HID Keyboard. This is a powerful feature for automating data input.

#### **Usage Steps:**

1. **Prepare SD Card and File**
   - Insert SD Card into device (ensure it's formatted as FAT32)
   - Create a text file (.txt) on computer with content to send
   - Each line in the file will be sent as one input
   - Example file content `data.txt`:
     ```
     password123
     username@example.com
     Hello World
     ```

2. **Copy File to SD Card**
   - Plug USB into computer (device will appear as "T-ROOT USB" drive)
   - Copy .txt file to root directory of SD Card
   - Ensure filename has no special characters, use only letters and numbers
   - Example: `data.txt`, `passwords.txt`, `list.txt`

3. **Select File Reading Mode**
   - Start device (screen displays T-ROOT logo)
   - Press **Single Click** to enter main menu
   - Continue pressing to switch to "Read File" mode (or follow on-screen instructions)
   - Screen will display list of .txt files in SD Card

4. **Select File to Read**
   - Use **Single Click** to navigate and select file from list
   - Screen displays selected file name
   - Press **Double Click** to confirm file selection

5. **Select Send Speed**
   - After selecting file, screen switches to speed selection mode
   - This speed determines delay between characters when sending
   - Press **Single Click** to change speed (from 10ms to 1000ms)
   - Press **Double Click** to confirm and start reading file

6. **Start Sending Data**
   - Device starts reading file and sending each line via USB HID
   - Screen displays:
     - Name of file being read
     - Current line being sent
     - Progress (lines sent / total lines)
   - Each line will be sent as keyboard input, automatically adding ENTER after each line
   - Ensure application window (Notepad, Word, Excel...) is open and ready to receive input

7. **Control While Sending**
   - Press **Single Click** to pause/resume sending
   - Press **Double Click** to stop completely and return to file selection menu
   - When complete, device automatically stops and displays notification

#### **Important Notes:**

- âš ï¸ **File must be .txt format** (plain text, not .doc, .docx, .pdf...)
- âš ï¸ **UTF-8 Encoding**: File should be saved with UTF-8 encoding for proper Vietnamese character display
- âš ï¸ **File Size**: Recommended file size not too large (< 1MB) to avoid long processing time
- âš ï¸ **File Location**: Place file in root directory of SD Card (not in subdirectories)
- âš ï¸ **Filename**: Use only letters, numbers, underscore (_), hyphen (-). Avoid special characters
- âš ï¸ **Safety**: Ensure correct window is focused before starting to send to avoid sending to wrong application

#### **Usage Examples:**

**Example 1: Send password list**
```
File: passwords.txt
Content:
admin123
user456
password789
```
â†’ Device will send each line, each line is a password

**Example 2: Send email list**
```
File: emails.txt
Content:
user1@example.com
user2@example.com
user3@example.com
```
â†’ Device will send each email, automatically adding ENTER after each email

**Example 3: Send long text**
```
File: message.txt
Content:
Hello, this is a long message
that will be sent line by line
through USB HID keyboard.
```
â†’ Each line will be sent separately

## ğŸ”Œ USB Connection

### **USB HID Keyboard**
- When USB is plugged into computer, device is automatically recognized as keyboard
- No driver installation needed (HID is common USB standard)
- Counted numbers will be automatically typed into open application (Notepad, Excel, Word...)

### **USB Mass Storage (SD Card)**
- If SD Card is present, device will appear as USB drive
- Drive name: "T-ROOT USB"
- Can read/write files like normal external drive
- **Important**: .txt files on SD Card can be read and sent via USB HID

## âš™ï¸ Technical Configuration

### **Pin Configuration**
- **LCD**: MOSI=45, SCLK=40, CS=42, DC=41, RST=39, BL=48
- **SD Card**: SCLK=14, MOSI=15, MISO=16, CS=21
- **RGB LED**: Pin 38 (NeoPixel)
- **Boot Button**: Pin 0 (INPUT_PULLUP)

### **LCD Specifications**
- Size: 172x320 pixels
- 180 degree rotation (MADCTL = 0xC0)
- Colors: Black and Green (RGB565)

### **Counter Settings**
- Maximum digits: 10
- Spacing between digits: 6 pixels
- Digit scale: 3x (from 3x5 bitmap)

### **HID Settings**
- Delay between digits: 10ms
- Delay after each number: 10ms
- Automatically add ENTER after each number

### **LED Settings**
- Number of LEDs: 1
- Brightness: 80/255
- Color change interval: 300ms
- Number of colors: 9 colors

## ğŸ“Š Operating States

1. **Initial Screen**: Logo screen on startup
2. **Select Digits**: Select number of digits (1-10)
3. **Select Speed**: Select counting speed (19 levels)
4. **Running**: Counter is running
5. **Paused**: Counter is paused
6. **Select File**: Select file from SD Card to read
7. **Reading File**: Reading and sending file via USB HID
8. **File Paused**: Paused sending file

## ğŸ”§ Troubleshooting

### **SD Card not working**
- Check if SD Card is properly inserted
- Check Serial Monitor for error messages
- Ensure SD Card is properly formatted (FAT32)

### **Cannot read file from SD Card**
- Check if file is in correct .txt format
- Ensure file is in root directory of SD Card (not in subdirectories)
- Check filename has no special characters
- Check Serial Monitor for file reading errors
- Try with a small file first (few lines) to test

### **File is read but not sent via HID**
- Check if USB is plugged into computer
- Check if computer recognizes device as keyboard
- Ensure application is open and ready to receive input (Notepad, Word...)
- Check Serial Monitor for HID send logs

### **USB HID not sending numbers**
- Check if USB is plugged into computer
- Check if computer recognizes device as keyboard
- Open Serial Monitor to view HID send logs

### **LCD not displaying**
- Check LCD pin connections
- Check backlight (pin 48)
- Check Serial Monitor for initialization errors

### **LED not lighting**
- Check if pin 38 is properly connected
- Check if LED is working (try enabling by holding button for 5 seconds)
- Check Serial Monitor for LED logs

## ğŸ“ Notes

- Counter will automatically stop when reaching maximum value
- Remaining time is calculated based on remaining values Ã— speed
- When counter is running, cannot change digit count or speed
- RGB LED only works when enabled by holding button for 5 seconds
- USB MSC only works when SD Card is properly inserted
- **File reading from SD Card**: Only supports .txt files, UTF-8 encoding, placed in root directory
- **HID sending from file**: Each line in file will be sent separately, automatically adding ENTER after each line

## ğŸ¨ LED Colors

RGB LED automatically cycles through 9 colors:
1. ğŸ”´ Red (255, 0, 0)
2. ğŸŸ  Orange (255, 128, 0)
3. ğŸŸ¡ Yellow (255, 255, 0)
4. ğŸŸ¢ Green (0, 255, 0)
5. ğŸ”µ Cyan (0, 255, 255)
6. ğŸ”µ Blue (0, 0, 255)
7. ğŸŸ£ Purple (128, 0, 255)
8. ğŸ©· Pink (255, 0, 255)
9. âšª White (255, 255, 255)

## ğŸ“ Support

If you encounter issues, check Serial Monitor (115200 baud) for detailed logs.

---

**T-ROOT Counter v1.0** - Automatic counter device with USB HID and MSC

